# 打包指南

## 问题说明

在使用PyInstaller打包应用程序时，可能会遇到以下问题：

1. sv_ttk库无法被正确识别，导致打包后的程序无法正常显示主题。

2. ILP算法无法找到CBC求解器，出现类似以下错误：
   ```
   Error during selection: Pulp: cannot execute C:\Users\...\cbc.exe
   ```

## 解决方案

### 方案一：使用hook文件（推荐）

已经在项目中添加了`hook-sv_ttk.py`文件，使用以下命令打包时会自动包含sv_ttk库的所有必要文件：

```
pyinstaller --onefile --windowed --additional-hooks-dir=. gui.py
```

### 方案二：明确指定隐藏导入

如果方案一不起作用，可以尝试使用以下命令明确指定隐藏导入：

```
pyinstaller --onefile --windowed --hidden-import=sv_ttk gui.py
```

### 方案三：使用标准主题

程序已经进行了修改，在找不到sv_ttk库时会自动使用标准ttk主题，因此即使打包时没有正确包含sv_ttk库，程序也能正常运行，只是界面样式会有所不同。

## 注意事项

1. 确保在打包前已安装所有必要的依赖库：
   ```
   pip install sv_ttk pyinstaller pulp
   ```

2. 如果打包后仍然出现问题，可以尝试使用`--debug=all`参数查看详细的打包日志：
   ```
   pyinstaller --onefile --windowed --debug=all --additional-hooks-dir=. gui.py
   ```

3. 打包完成后，可执行文件将位于`dist`目录中。

4. 关于ILP算法和CBC求解器：
   - 程序已经进行了修改，能够在打包环境中自动查找CBC求解器的正确路径
   - 项目中已添加`hook-pulp.py`文件，使用以下命令打包时会自动包含pulp库及其CBC求解器：
   ```
   pyinstaller --onefile --windowed --additional-hooks-dir=. gui.py
   ```
   - 如果仍然遇到CBC求解器问题，可以尝试以下命令明确包含pulp库及其求解器：
   ```
   pyinstaller --onefile --windowed --hidden-import=pulp --collect-all pulp --additional-hooks-dir=. gui.py
   ```